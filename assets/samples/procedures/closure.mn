data alloc_origin = fn(origin: &NodePtr) => mut &bytecode, mut this: outer -> u16 {
    if origin == none {
        data reg = outer.AllocateRegister()
        .bytecode.Write(Op.LoadConstant, [reg, bytecode.AddConstant(0)])
        return reg
    }

    origin.Accept(.this)
    return outer.PopRegBuffer()
}