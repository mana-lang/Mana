// this was just a file to toy with syntax. it does not compile

data alloc_origin = fn(origin: &NodePtr) -> u16 => mut &bytecode, mut this: outer {
    if origin == none {
        data reg = outer.AllocateRegister()
        .bytecode.Write(Op.LoadConstant, [reg, bytecode.AddConstant(0)])
        return reg
    }

    origin.Accept(.this)
    return outer.PopRegBuffer()
}